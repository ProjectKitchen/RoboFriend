* C:\Users\mzahedi\Documents\Git\RoboFriend\simulation\vin-final\vin.asc
R7 +12V N009 1k
D1 N009 0 D
R5 +12V N002 18k
R8 N002 0 3k
D9 0 N002 BAT54
R10 N013 N018 0.01
R11 N013 N014 1k
R12 N018 N015 1k
R13 N014 0 33k
R14 N015 N016 33k
V7 OC 0 PULSE(5V 0 0 1u 1u 600ms 2s)
R15 N018 P001 1k
XU1 N014 N015 5V 0 N016 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
XU2 N016 N017 5V 0 OC_INT level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
XX1 5V N017 0 pot params: R=10k Val=34
R17 N012 OC 1k
D7 N013 +12V 1N4148
R9 +12V N011 1k
M3 N013 N011 +12V +12V FDS6576
Q1 N011 N012 0 0 2N4124
R16 N012 0 10k
V3 5V 0 5V
XU3 N002 ADC 5V 0 ADC level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
D10 N002 5V BAT54
V1 N001 0 PULSE(10V 15V 0 2s 2s 0 4s)
D2 0 N004 BZX84B6V2L
R1 N001 N004 4.7k
R2 N010 0 47k
R3 N001 N005 20k
R6 N005 0 10k
XX2 N004 N008 N010 pot params: R=100k Val=62.5
XX4 N001 N003 N001 NC_01 relais params: ION=7m IOFF=2m LL=63m RR=510
C2 NC_02 0 33µ V=16V
XU5 N005 N008 N007 0 N006 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
M1 N003 N006 0 0 2N7002
D3 N001 N007 1N4148
D4 N003 N001 1N4148
V4 +12V 0 12V
R4 +12V N002 12k
R18 N002 0 39k
D5 P001 0 D
R19 N018 0 1.2
R20 +12V 0 12
R23 +12V 0 24
R24 +12V 0 24
R25 N006 N005 1Meg

* block symbol definitions
.subckt pot 1 2 3
R1 1 2 {Ra}
R2 2 3 {Rb}
.param Ra = R * (Val / 100)
.param Rb = R * (1 - (Val / 100))
.ends pot

.subckt relais 1 2 3 4
L1 1 N001 {LL} Ipk=20m Rser=0 Rpar=100Meg Cpar=0
R1 N001 2 {RR}
S1 4 3 N001 2 SW
.param LL=63mH
.param RR=510
.param ION=7mA
.param IOFF=2mA
.param VTH=RR*(ION+IOFF)/2
.param VHY=RR*(ION-IOFF)/2
.model SW SW(vt={VTH} vh={VHY})
.ends relais

.model D D
.lib C:\Users\mzahedi\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NPN NPN
.model PNP PNP
.lib C:\Users\mzahedi\Documents\LTspiceXVII\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\mzahedi\Documents\LTspiceXVII\lib\cmp\standard.mos
.tran 8s
* Overcurrent Protection\nShunt: 0,1 V / 10 A = 0,01 Ohm\nShunt: P = 10² A * 0,01 Ohm = 1 W\nDifferential Amp: \nUa = (U+ - U-) * R14 / R12 = 3.3 V\nPoti: Ua = 3.25 V
* Reverse\nPolarity\nProtection
* Deep Discharge Protection
* Monitor
* Audio\nAmp
* Boost\nModules
* Vbat\nMeasurement
* Buck\nModule
* TL331
* INA193
* MCP6001
* TL331
.lib UniversalOpamps2.sub
.backanno
.end
